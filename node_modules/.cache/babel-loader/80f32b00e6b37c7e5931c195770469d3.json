{"ast":null,"code":"import _regeneratorRuntime from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jeexe/mi_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Loading from'../components/Loading';import FatalError from'./500';import ExcerciseNew from'./ExcercisesNew';import Url from'../config';var ExcerciseNewContainer=/*#__PURE__*/function(_React$Component){_inherits(ExcerciseNewContainer,_React$Component);var _super=_createSuper(ExcerciseNewContainer);function ExcerciseNewContainer(){var _this;_classCallCheck(this,ExcerciseNewContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={form:{title:'',description:'',img:'',leftColor:'',rightColor:''},loading:false,error:null};_this.handleChange=function(e){_this.setState({form:_objectSpread(_objectSpread({},_this.state.form),{},_defineProperty({},e.target.name,e.target.value))});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config,res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});e.preventDefault();_context.prev=2;config={method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(_this.state.form)};_context.next=6;return fetch(\"\".concat(Url,\"/exercises\"),config);case 6:res=_context.sent;_context.next=9;return res.json();case 9:json=_context.sent;_this.setState({loading:false});_this.props.history.push('/excercise');_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);_this.setState({loading:false,error:_context.t0});case 17:console.log(_this.state);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ExcerciseNewContainer,[{key:\"render\",value:function render(){if(this.state.loading)return/*#__PURE__*/React.createElement(Loading,null);if(this.state.error)return/*#__PURE__*/React.createElement(FatalError,null);return/*#__PURE__*/React.createElement(ExcerciseNew,{form:this.state.form,onChange:this.handleChange,onSubmit:this.handleSubmit});}}]);return ExcerciseNewContainer;}(React.Component);export default ExcerciseNewContainer;","map":{"version":3,"sources":["/home/jeexe/mi_web/src/pages/ExcercisesNewContainer.js"],"names":["React","Loading","FatalError","ExcerciseNew","Url","ExcerciseNewContainer","state","form","title","description","img","leftColor","rightColor","loading","error","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","config","method","headers","body","JSON","stringify","fetch","res","json","props","history","push","console","log","Component"],"mappings":"sjCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,OAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,C,GACMC,CAAAA,qB,mYAEFC,K,CAAQ,CACJC,IAAI,CAAE,CACFC,KAAK,CAAG,EADN,CAEFC,WAAW,CAAG,EAFZ,CAGFC,GAAG,CAAG,EAHJ,CAIFC,SAAS,CAAG,EAJV,CAKFC,UAAU,CAAG,EALX,CADF,CAQJC,OAAO,CAAC,KARJ,CASJC,KAAK,CAAC,IATF,C,OAYRC,Y,CAAe,SAAAC,CAAC,CAAI,CAChB,MAAKC,QAAL,CAAc,CACVV,IAAI,gCACG,MAAKD,KAAL,CAAWC,IADd,wBAECS,CAAC,CAACE,MAAF,CAASC,IAFV,CAEkBH,CAAC,CAACE,MAAF,CAASE,KAF3B,EADM,CAAd,EAOH,C,OAGDC,Y,0FAAe,iBAAML,CAAN,sIAEX,MAAKC,QAAL,CAAc,CACVJ,OAAO,CAAC,IADE,CAAd,EAIAG,CAAC,CAACM,cAAF,GANW,gBASHC,MATG,CASM,CACTC,MAAM,CAAE,MADC,CAETC,OAAO,CAAE,CACL,SAAW,kBADN,CAEL,eAAiB,kBAFZ,CAFA,CAMTC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,MAAKtB,KAAL,CAAWC,IAA1B,CANG,CATN,uBAkBSsB,CAAAA,KAAK,WAAIzB,GAAJ,eAAoBmB,MAApB,CAlBd,QAkBHO,GAlBG,qCAmBUA,CAAAA,GAAG,CAACC,IAAJ,EAnBV,QAmBHA,IAnBG,eAqBP,MAAKd,QAAL,CAAc,CACVJ,OAAO,CAAC,KADE,CAAd,EAIA,MAAKmB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,EAzBO,iFA4BP,MAAKjB,QAAL,CAAc,CACVJ,OAAO,CAAC,KADE,CAEVC,KAAK,YAFK,CAAd,EA5BO,QAiCXqB,OAAO,CAACC,GAAR,CAAY,MAAK9B,KAAjB,EAjCW,qE,sJAoCP,CACJ,GAAG,KAAKA,KAAL,CAAWO,OAAd,CACI,mBAAO,oBAAC,OAAD,MAAP,CAEJ,GAAG,KAAKP,KAAL,CAAWQ,KAAd,CACI,mBAAO,oBAAC,UAAD,MAAP,CACJ,mBAAO,oBAAC,YAAD,EACH,IAAI,CAAI,KAAKR,KAAL,CAAWC,IADhB,CAEH,QAAQ,CAAK,KAAKQ,YAFf,CAGH,QAAQ,CAAI,KAAKM,YAHd,EAAP,CAMH,C,mCAzE+BrB,KAAK,CAACqC,S,EA4E1C,cAAehC,CAAAA,qBAAf","sourcesContent":["import React from 'react'\nimport Loading from '../components/Loading'\nimport FatalError from './500'\nimport ExcerciseNew from './ExcercisesNew'\nimport Url from '../config'\nclass ExcerciseNewContainer extends React.Component {\n\n    state = {\n        form: {\n            title : '',\n            description : '',\n            img : '',\n            leftColor : '',\n            rightColor : '' \n        },\n        loading:false,\n        error:null\n    }\n\n    handleChange = e => {\n        this.setState({\n            form:{\n                ...this.state.form,\n                [e.target.name] : e.target.value\n            }\n            \n        })\n    }\n\n\n    handleSubmit = async e =>{\n\n        this.setState({\n            loading:true\n        })\n\n        e.preventDefault()\n\n        try {\n            let config = {\n                method: 'POST',\n                headers: {\n                    'Accept' : 'application/json',\n                    'Content-Type' : 'application/json'\n                },\n                body: JSON.stringify(this.state.form)\n            }\n\n            let res = await fetch(`${Url}/exercises`,config)\n            let json = await res.json()\n\n            this.setState({\n                loading:false\n            })\n\n            this.props.history.push('/excercise')\n        } \n        catch (error) {\n            this.setState({\n                loading:false,\n                error\n            })\n        }\n        console.log(this.state)\n    }\n\n    render(){\n        if(this.state.loading)\n            return <Loading/>\n\n        if(this.state.error)\n            return <FatalError/>\n        return <ExcerciseNew\n            form = {this.state.form}\n            onChange  = {this.handleChange}\n            onSubmit = {this.handleSubmit}\n        />\n        \n    }\n}\n\nexport default ExcerciseNewContainer"]},"metadata":{},"sourceType":"module"}