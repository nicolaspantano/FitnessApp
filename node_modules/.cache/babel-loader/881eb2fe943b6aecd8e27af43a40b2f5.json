{"ast":null,"code":"var _jsxFileName = \"/home/jeexe/mi_web/src/pages/ExcercisesNewContainer.js\";\nimport React from 'react';\nimport ExcerciseForm from '../components/ExcerciseForm';\nimport Card from '../components/Card';\nimport Loading from '../components/Loading';\nimport FatalError from './500';\n\nclass ExcerciseNewContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      form: {\n        title: '',\n        description: '',\n        img: '',\n        leftColor: '',\n        rightColor: ''\n      },\n      loading: false,\n      error: null\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.handleSubmit = async e => {\n      this.setState({\n        loading: true\n      });\n      e.preventDefault();\n\n      try {\n        let config = {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.state.form)\n        };\n        let res = await fetch('http://localhost:8000/api/exercises', config);\n        let json = await res.json();\n        this.setState({\n          loading: false\n        });\n        this.props.history.push('/excercise');\n      } catch (error) {\n        this.setState({\n          loading: false,\n          error\n        });\n      }\n\n      console.log(this.state);\n    };\n  }\n\n  render() {\n    if (this.state.loading) return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 20\n      }\n    });\n    if (this.state.error) return /*#__PURE__*/React.createElement(FatalError, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 20\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, Object.assign({}, this.state.form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ExcerciseForm, {\n      onChange: this.handleChange,\n      onSubmit: this.handleSubmit,\n      form: this.state.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default ExcerciseNewContainer;","map":{"version":3,"sources":["/home/jeexe/mi_web/src/pages/ExcercisesNewContainer.js"],"names":["React","ExcerciseForm","Card","Loading","FatalError","ExcerciseNewContainer","Component","state","form","title","description","img","leftColor","rightColor","loading","error","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","config","method","headers","body","JSON","stringify","res","fetch","json","props","history","push","console","log","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ExcerciseForm from '../components/ExcerciseForm'\nimport Card from '../components/Card'\nimport Loading from '../components/Loading'\nimport FatalError from './500'\n\nclass ExcerciseNewContainer extends React.Component {\n\n    state = {\n        form: {\n            title : '',\n            description : '',\n            img : '',\n            leftColor : '',\n            rightColor : '' \n        },\n        loading:false,\n        error:null\n    }\n\n    handleChange = e => {\n        this.setState({\n            form:{\n                ...this.state.form,\n                [e.target.name] : e.target.value\n            }\n            \n        })\n    }\n\n\n    handleSubmit = async e =>{\n\n        this.setState({\n            loading:true\n        })\n\n        e.preventDefault()\n\n        try {\n            let config = {\n                method: 'POST',\n                headers: {\n                    'Accept' : 'application/json',\n                    'Content-Type' : 'application/json'\n                },\n                body: JSON.stringify(this.state.form)\n            }\n\n            let res = await fetch('http://localhost:8000/api/exercises',config)\n            let json = await res.json()\n\n            this.setState({\n                loading:false\n            })\n\n            this.props.history.push('/excercise')\n        } \n        catch (error) {\n            this.setState({\n                loading:false,\n                error\n            })\n        }\n        console.log(this.state)\n    }\n\n    render(){\n        if(this.state.loading)\n            return <Loading/>\n\n        if(this.state.error)\n            return <FatalError/>\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm\">\n                    <Card\n                        {...this.state.form}\n                    />\n                </div>\n                <div className=\"col-sm\">\n                    <ExcerciseForm\n                    onChange={this.handleChange}\n                    onSubmit={this.handleSubmit}\n                    form={this.state.form}\n                    />               \n                </div>\n                \n\n            </div>\n\n\n        )\n    }\n}\n\nexport default ExcerciseNewContainer"]},"metadata":{},"sourceType":"module"}